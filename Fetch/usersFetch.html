<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>
    <h1>Todos</h1>
    <button class="btn btn-primary" onclick="allFetch()"> List all Todos</button>
    <table>
        <tr>
            <td>UserId </td>
            <td>id </td>
            <td>Title </td>
            <td>Completed </td>
        </tr>
    </table>
    <tbody id="result">
    </tbody>
</body>
<script>
     function populate(todos){
        let html_data="";
        for(let todo of todos){
            html_data+=`<tr><td>${todo.userId} </td><td>${todo.id}</td><td>${todo.title} </td><td>${todo.completed}</td>`
        }
        result.innerHTML=html_data;
    }
    
 
    // function fetch(){
    // fetch("https://jsonplaceholder.typicode.com/todos").then(res=>res.json()).then(data=>console.log(data))
    // }

    //before XML HTTP req
    //  var pro=new Promise((resolve,reject)=>{
    //      if(1+1==2){
    //          resolve("Success")
    //      }else{
    //          reject("failed")
    //      }
    //  })
    //  pro.then((msg)=>console.log(msg)).catch(error=>console.log(error));
    //or

    function allFetch(){
    fetch("https://jsonplaceholder.typicode.com/todos").
    then(res => res.json()).
    then(data => populate(data))
   // .catch(err => console.log(err));
    }
    


    // fetch("https://jsonplaceholder.typicode.com/userss").
    // then(res => {
    //    if(res.ok){
    //        return res.json()
    //    }else{
    //        throw new Error("failed to fetch data from resources")
    //    } 
    // }).
    // then(data => console.log(data)).
    // catch(err => console.log(err));

    // fetch("https://jsonplaceholder.typicode.com/todos").
    // then(res => {
    //    if(res.ok){
    //        return res.json()
    //    }else{
    //        throw new Error("failed to fetch data from resources")
    //    } 
    // }).
    // then(data => console.log(data)).
    // catch(err => console.log(err));

</script>

</html>